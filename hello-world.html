<script>
(function(window, document, undefined) {

    class TestElement extends HTMLElement {
        connectedCallback () {
            this.attachShadow({mode: 'open'});
            this.render();
            document.dispatchEvent(new CustomEvent('sendNotification', {
                title: "New notification",
                priority: "MAJOR",
                categoryType: "alarm",
                message: "Notification description"
            }));
        }

        render () {
            const div = document.createElement('div');
            div.classList.add('header');
            div.innerHTML = "Hello " + this.getWho();
            this.shadowRoot.appendChild(div);
        }

        getWho() {
            if(this.hasAttribute("who")) {
                return this.getAttribute("who");
            }
            return "World!";
        }
    }

    // Registers <hello-world> in the main document
    customElements.define('hello-world', TestElement)
})(window, document);
</script>