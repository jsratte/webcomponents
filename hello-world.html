<script>
(function(window, document, undefined) {

    class TestElement extends HTMLElement {
        connectedCallback () {
            this.attachShadow({mode: 'open'});
            this.render();
            this.dispatchEvent(new CustomEvent('sendNotification', {
                detail: {
                    title: "New notification",
                    priority: "MAJOR",
                    categoryType: "alarm",
                    message: "Notification description",
                    callback : function() {
                        console.log("test");
                        alert("test");
                    }
                }
            }));
        }

        render () {
            const div = document.createElement('div');
            div.classList.add('header');
            div.innerHTML = "Hello " + this.getWho();
            this.shadowRoot.appendChild(div);
        }

        getWho() {
            if(this.hasAttribute("who")) {
                return this.getAttribute("who");
            }
            return "World!";
        }
    }

    // Registers <hello-world> in the main document
    customElements.define('hello-world', TestElement)
})(window, document);
</script>